{
  "$schema": "https://opencode.ai/config.json",
  "compaction": {
    "auto": true,
    "prune": true
  },
  "mcp": {
    "context7": {
      "type": "remote",
      "url": "https://mcp.context7.com/mcp"
    }
  },
  "lsp": false,
  "provider": {
    "ollama": {
      "npm": "@ai-sdk/openai-compatible",
      "name": "local-kumiho",
      "options": {
        "baseURL": "http://192.168.0.246:11434/v1"
      },
      "models": {
        "qwen3-coder": { "name": "qwen3-coder" },
        "devstral-small-2": { "name": "devstral-small-2" }
      }
    }
  },
  "agent": {
    "fixer-autonomous": {
      "mode": "primary",
      "description": "Autonomous fixer: iterate until the task is verifiably done.",
      "temperature": 0.1,
      "prompt": "{file:./prompts/fixer-autonomous-mainloop.txt}",
      "permission": {
        "question": "allow"
      }
    },
    "fixer-strict": {
      "mode": "primary",
      "description": "Strict fixer: no delegation, iterate until verifiably done.",
      "temperature": 0.1,
      "prompt": "{file:./prompts/fixer-strict.txt}",
      "permission": {
        "question": "allow"
      }
    },
    "build-autonomous": {
      "mode": "primary",
      "description": "Autonomous build: iterate until the task is verifiably done.",
      "temperature": 0.1,
      "prompt": "{file:./prompts/build-autonomous-mainloop.txt}",
      "permission": {
        "question": "allow"
      }
    },
    "build-autonomous-subagent": {
      "mode": "subagent",
      "description": "Autonomous build: iterate until the task is verifiably done.",
      "temperature": 0.1,
      "prompt": "{file:./prompts/build-autonomous-mainloop.txt}",
      "permission": {
        "question": "allow"
      },
      "hidden": true
    },
    "build-autonomous-execute": {
      "mode": "subagent",
      "description": "Autonomous build executor",
      "temperature": 0.1,
      "prompt": "{file:./prompts/build-autonomous-execute.txt}",
      "permission": {
        "question": "allow"
      },
      "hidden": true
    },
    "build-autonomous-subloop-subagent": {
      "mode": "subagent",
      "description": "Autonomous build subloop executor",
      "temperature": 0.1,
      "prompt": "{file:./prompts/build-autonomous-subloop.txt}",
      "permission": {
        "question": "allow"
      },
      "hidden": true
    },
    "builder-autonomous-subagent": {
      "mode": "subagent",
      "description": "Autonomous builder: iterate until the task is done.",
      "temperature": 0.1,
      "prompt": "{file:./prompts/builder-autonomous.txt}",
      "permission": {
        "question": "allow"
      },
      "hidden": true
    },
    "build-strict": {
      "mode": "primary",
      "description": "Strict build: no delegation, iterate until done.",
      "temperature": 0.1,
      "prompt": "{file:./prompts/build-strict.txt}",
      "permission": {
        "question": "allow"
      }
    },
    "execute": {
      "mode": "subagent",
      "description": "A dumb executor",
      "temperature": 0.1,
      "prompt": "{file:./prompts/execute.txt}",
      "hidden": true
    },
    "fixer-autonomous-subagent": {
      "mode": "subagent",
      "description": "Autonomous fixer: iterate until the fix is verifiably done.",
      "temperature": 0.1,
      "prompt": "{file:./prompts/fixer-autonomous-mainloop.txt}",
      "permission": {
        "question": "allow"
      },
      "hidden": true
    },
    "fixer-autonomous-execute": {
      "mode": "subagent",
      "description": "Autonomous fixer executor",
      "temperature": 0.1,
      "prompt": "{file:./prompts/fixer-autonomous-execute.txt}",
      "permission": {
        "question": "allow"
      },
      "hidden": true
    },
    "fixer-autonomous-subloop-subagent": {
      "mode": "subagent",
      "description": "Autonomous fixer subloop executor",
      "temperature": 0.1,
      "prompt": "{file:./prompts/fixer-autonomous-subloop.txt}",
      "permission": {
        "question": "allow"
      },
      "hidden": true
    },
    "reproducer-autonomous": {
      "mode": "subagent",
      "description": "Autonomous reproducer: try to build a repro for a failure.",
      "temperature": 0.1,
      "permission": {
        "question": "allow"
      },
      "prompt": "{file:./prompts/reproducer-autonomous.txt}"
    }
  },
  "experimental": {
    "continue_loop_on_deny": true
  }
}
